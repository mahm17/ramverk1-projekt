---
---
Redovisning kmom03
=========================

I början så hade jag svårt att förstå exakt hur man skulle göra för att få sina egna funktioner att funka genom att använda dem genom $di. Så jag kollade genom föreläsningen ett par gånger till och kollade runt i de $di filer som redan fanns för att försöka förstå hur jag kunde lösa min egna. Jag löste det tillslut vilket kändes skönt. Nu när jag förstår hur det är uppbyggt så känns det väldigt smidigt då man enkelt kan använda sig utav den klassen som startas via $di i andra funktioner. Som jag förstår det så används dependency injection till att istället för att hårdkoda in något i sin funktion eller liknande så injectar man något till klassen som den senare kan använda sig utav, läste denna [Wikipedia artikel](https://en.wikipedia.org/wiki/Dependency_injection). Service locator är ett annat begrepp vi fick kolla på nu. Och som jag förstår mig på det utifrån denna [Wikipedia artikel](https://en.wikipedia.org/wiki/Service_locator_pattern) rätt så använder man sig av en locator när man vill ha något mellan två klasser som sedan kan returnera olika information baserat på vilken uppgift man vill lösa. Lazy loading är ytterliggare ett begrepp och det förstår jag som att det används när man vill att objekt inte ska startas förrän det behövs, även här använda jag en [Wikipedia artikel](https://en.wikipedia.org/wiki/Lazy_loading).

Sedan kollade jag runt lite på hur andra ramverk använder sig utav $di för att lösa samma saker. Jag kollade på Phalcon då jag har valt att läsa på om det tidigare. Vad jag kan hitta så verkar själva konstruktionen rätt lik som det vi använder just nu tex att man kallar på $di genom att skriva $this->di->get() sen såg jag också att man kan använda sig utav setters till $di genom $di->set() vilket inte är något som vi har gjort i Anax än så länge. Så det verkar ändå rätt likt det vi gör just nu men vissa saker är så klart annorlunda.

När det kommer till själva uppgiften denna veckan så använda jag mig utav en model och en kontroller för att lösa mina uppgifter. Samt att jag la själva curl koden i en $di funktion. Så kontrollern tog hand om allt som skickades till vyn medan modelen löste det som hade med $di och liknande att göra. Jag gjorde inte så att mina gamle klasser använder sig utav $di än då jag inte hade så mycket tid över för det. Sen tyckte jag att det känns rätt bra att jobba med externa tjänster. Det enda problemet jag hade med de vi använder (IP, väder och karta) var just kartan. Själva dokumentation för Openstreetmap för lite svår att första sig på så förstod inte hur jag skulle använda mig utav API't så slutade med att jag fick googla till mig olika lösningar. Så det som funkade tillslut var att använda sig utav iframe för att få ut själva kartan och sen skicka med longitude och latitude i url'n för att få ut vart man var någonstans.

Min TIL för denna uppgift är hur men kan göra sina egna $di funktioner för att sedan använda sig utav dem i sina egna klasser.
